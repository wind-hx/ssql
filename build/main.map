{"version":3,"sources":["webpack:///webpack/bootstrap bd2308eeff75074319cd","webpack:///./src/index.js","webpack:///./src/execute.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/regenerator/index.js","webpack:///external \"regenerator-runtime\"","webpack:///./src/parser.js","webpack:///external \"node-sql-parser\"","webpack:///external \"colors-console\"","webpack:///./src/utils.js","webpack:///./src/config.js"],"names":["initSSQL","options","mysql","Error","global","config","Object","assign","sql","type","Promise","resolve","reject","query","error","results","fields","resultUseCamelCase","listToHump","execute","after","target","executeUseUnderScoreCase","objToLine","before","result","sqlHook","showLog","date","Date","console","log","colors","dateFormat","table","executeObj","parser","insert","executeSQL","updateById","id","deleteById","selectById","selectAll","require","Parser","opt","database","initUpdateColumns","obj","columns","key","push","column","value","select","where","ast","distinct","from","db","as","groupby","having","orderby","limit","sqlify","exports","values","partition","updateByColumns","set","operator","left","right","toHump","name","replace","all","letter","toUpperCase","toLine","toLowerCase","objToHump","newObj","list","newList","item","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","test","RegExp","$1","getFullYear","substr","length","k","String"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bd2308eeff75074319cd","import { insert, updateById, deleteById, selectById, selectAll } from './execute';\nimport config from './config';\n\nexport function initSSQL(options) {\n    if (!options.mysql) {\n        throw Error('mysql not null.');\n    }\n    global.config = Object.assign(config, options);\n}\n\nexport { insert, updateById, deleteById, selectById, selectAll };\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import parser from './parser';\nimport colors from 'colors-console';\nimport { objToLine, listToHump, dateFormat } from './utils';\n\nfunction after(target) {\n    target = target || {};\n    if (!global.config.mysql) {\n        throw Error('not found mysql client')\n    }\n    if (global.config.executeUseUnderScoreCase) {\n        return objToLine(target);\n    }\n    return target;\n}\n\nfunction before(result) {\n    return result;\n}\n\nfunction sqlHook(sql) {\n    showLog(sql);\n    return sql;\n}\n\nfunction showLog(sql) {\n    if (global.config.showLog) {\n        let date = new Date();\n        console.log(`${colors('cyan', dateFormat(date, 'yyyy-MM-dd HH:mm:ss'))} ${sql}`);\n    }\n}\n\nasync function execute(sql, type) {\n    return new Promise((resolve, reject) => {\n        global.config.mysql.query(sql, [], function (error, results, fields) {\n            if (error) throw error;\n            if ('select' === type) {\n                if (global.config.resultUseCamelCase) {\n                    resolve(listToHump(results));\n                } else {\n                    resolve(results);\n                }\n            } else {\n                resolve(results);\n            }\n        });\n    });\n}\n\nexport async function insert(target, table) {\n    let executeObj = after(target);\n    let sql = parser.insert(executeObj, table);\n    let executeSQL = sqlHook(sql);\n    let result = await execute(executeSQL, 'insert');\n    before(result);\n    return result;\n}\n\nexport async function updateById(target, table) {\n    let executeObj = after(target);\n    let sql = parser.updateById(executeObj, table);\n    let executeSQL = sqlHook(sql);\n    let result = await execute(executeSQL, 'update');\n    before(result);\n    return result;\n}\n\nexport async function deleteById(id, table) {\n    after();\n    let sql = parser.deleteById(id, table);\n    let executeSQL = sqlHook(sql);\n    let result = await execute(executeSQL, 'delete');\n    before(result);\n    return result;\n}\n\nexport async function selectById(id, table) {\n    after();\n    let sql = parser.selectById(id, table);\n    let executeSQL = sqlHook(sql);\n    let result = await execute(executeSQL, 'select');\n    before(result);\n    return result;\n}\n\nexport async function selectAll(table) {\n    after();\n    let sql = parser.selectAll(table);\n    let executeSQL = sqlHook(sql);\n    let result = await execute(executeSQL, 'select');\n    before(result);\n    return result;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/execute.js","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/regenerator/index.js\n// module id = 3\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 4\n// module chunks = 0","const { Parser } = require('node-sql-parser');\nconst opt = {\n    database: 'MySQL' // MySQL is the default database\n}\n\nfunction initUpdateColumns(obj) {\n    let columns = [];\n    for (let key in obj) {\n        if (typeof(obj[key]) === 'string') {\n            columns.push({\n                column: key,\n                value: {\n                    type: 'string',\n                    value: obj[key]\n                },\n                table: null\n            });\n        } else if (typeof(obj[key]) === 'number') {\n            columns.push({\n                column: key,\n                value: {\n                    type: 'number',\n                    value: obj[key]\n                },\n                table: null\n            });\n        }\n    }\n    return columns;\n}\n\nfunction select(table, where) {\n    const parser = new Parser();\n    let ast = [{\n        type: 'select',\n        options: null,\n        distinct: null,\n        columns: '*',\n        from: [{\n            db: null,\n            table: table,\n            as: null\n        }],\n        where: where,\n        groupby: null,\n        having: null,\n        orderby: null,\n        limit: null\n    }];\n    const sql = parser.sqlify(ast, opt);\n    return sql;\n}\n\nexports.insert = function(target, table) {\n    let obj = Object.assign({}, target);\n    delete obj.id;\n    let columns = [];\n    let values = [];\n    for (let key in obj) {\n        columns.push(key);\n        if (typeof(obj[key]) === 'string') {\n            values.push({\n                type: 'string',\n                value: obj[key]\n            });\n        } else if (typeof(obj[key]) === 'number') {\n            values.push({\n                type: 'number',\n                value: obj[key]\n            });\n        }\n    }\n    const parser = new Parser();\n    let ast = [{\n        type: 'insert',\n        table: [{\n            db: null,\n            table: table,\n            as: null\n        }],\n        columns: columns,\n        values: [{\n            type: 'expr_list',\n            value: values,\n        }],\n        partition: null\n    }];\n    const sql = parser.sqlify(ast, opt);\n    return sql;\n}\n\nexports.updateByColumns = function(target, table, where) {\n    \n}\n\nexports.updateById = function(target, table) {\n    let obj = Object.assign({}, target);\n    delete obj.id;\n    let columns = initUpdateColumns(obj);\n    const parser = new Parser();\n    let ast = [{\n        type: 'update',\n        table: [{\n            db: null,\n            table: table,\n            as: null\n        }],\n        set: columns,\n        where: {\n            type: 'binary_expr',\n            operator: '=',\n            left: {\n                type: 'column_ref',\n                table: null,\n                column: 'id',\n            },\n            right: {\n                type: 'number',\n                value: target.id,\n            }\n        }\n    }];\n    const sql = parser.sqlify(ast, opt);\n    return sql;\n}\n\nexports.deleteById = function(id, table) {\n    const parser = new Parser();\n    let ast = [{\n        type: 'delete',\n        options: null,\n        distinct: null,\n        from: [{\n            db: null,\n            table: table,\n            as: null\n        }],\n        where: {\n            type: 'binary_expr',\n            operator: '=',\n            left: {\n                type: 'column_ref',\n                table: null,\n                column: 'id',\n            },\n            right: {\n                type: 'number',\n                value: id,\n            }\n        },\n    }];\n    const sql = parser.sqlify(ast, opt);\n    return sql;\n}\n\nexports.selectById = function(id, table) {\n    return select(table, {\n        type: 'binary_expr',\n        operator: '=',\n        left: {\n            type: 'column_ref',\n            table: null,\n            column: 'id',\n        },\n        right: {\n            type: 'number',\n            value: id,\n        }\n    });\n}\n\nexports.selectAll = function(table) {\n    return select(table, null);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/parser.js","module.exports = require(\"node-sql-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-sql-parser\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"colors-console\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"colors-console\"\n// module id = 7\n// module chunks = 0","export function toHump(name) {\n    return name.replace(/\\_(\\w)/g, function(all, letter) {\n        return letter.toUpperCase();\n    });\n}\n\n\nexport function toLine(name) {\n    return name.replace(/([A-Z])/g,\"_$1\").toLowerCase();\n}\n\nexport function objToHump(obj) {\n    let newObj = {};\n    for (let key in obj) {\n        newObj[toHump(key)] = obj[key];\n    }\n    return newObj;\n}\n\nexport function objToLine(obj) {\n    let newObj = {};\n    for (let key in obj) {\n        newObj[toLine(key)] = obj[key];\n    }\n    return newObj;\n}\n\nexport function listToHump(list) {\n    let newList = [];\n    for (let item of list) {\n        newList.push(objToHump(item));\n    }\n    return newList;\n}\n\nexport function dateFormat(date, fmt) {\n    let o = {\n        'M+': date.getMonth() + 1,\n        'd+': date.getDate(),\n        'H+': date.getHours(),\n        'm+': date.getMinutes(),\n        's+': date.getSeconds(),\n        'S+': date.getMilliseconds()\n    };\n    //因为date.getFullYear()出来的结果是number类型的,所以为了让结果变成字符串型，下面有两种方法：\n    if (/(y+)/.test(fmt)) {\n        //第一种：利用字符串连接符“+”给date.getFullYear()+''，加一个空字符串便可以将number类型转换成字符串。\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n    }\n    for (var k in o) {\n        if (new RegExp('(' + k + ')').test(fmt)) {\n            //第二种：使用String()类型进行强制数据类型转换String(date.getFullYear())，这种更容易理解。\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (('00' + o[k]).substr(String(o[k]).length)));\n        }\n    }\n    return fmt;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","export default {\n    showLog: true,\n    mysql: null,\n    resultUseCamelCase: false,\n    executeUseUnderScoreCase: true,\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config.js"],"sourceRoot":""}